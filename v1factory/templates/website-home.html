{% extends "infra-html.html" %}

{% block css %}
    <script type="text/javascript" src="http://platform.linkedin.com/in.js">
      api_key: t0q97cjtk5kf
      scope: r_basicprofile r_emailaddress
    </script>
    <script type="text/javascript" src="//use.typekit.net/kqa1all.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/website.css">
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/home.css">
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/animate.css">
<!--     <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/bootstrap-responsive.css">
 -->
{% endblock %}
{% block topbar %}
{% endblock %}
{% block page %}
<div class="row hi4" style="position:fixed; background-color:#000; opacity:0.6; top:0; left:0; z-index:1; width:100%;">
  <div class="container">
    <div class="offset1 toppanel  span12 logo-text" style="">
      <h1 class="name hoff1"><a href="{% url v1factory.views.app_list %}">v1 Factory</a> {{ title }}</h1>
    </div>
    <div class="offset10 toppanel hi6 span30">
      <div class="login hi2 pad1" style="height:45px; margin-top: 10px;">
        <span class="span6 pad1"><strong style="line-height:14px;">User Login</strong><br><i class="micro"> (forgot password?)</i></span>
        <span class="login span21 offset1">
          {% if form.errors %}
          <p>Your username and password didn't match. Please try again.</p>
          {% endif %}

          <form class="" method="post" action="{% url django.contrib.auth.views.login %}">
              {% csrf_token %}
              <div class="line block hi1">
               <input id="id_username" type="text" name="username" maxlength="30">
              </div>
              <div class="line block hi1">
                <input type="password" name="password" id="id_password">
              </div>
              <input class="btn right" type="submit" value="Login" />
              <input type="hidden" name="next" value="{{ next|default:"/app" }}" />
          </form>
        </span>
      </div>
    </div>
  </div>
</div>
<div class="well" style="background-color:#26656e;">
  <div class="container">
    <div class="span64">
      <div class="hi28">
        <div class="span32 offset1 hoff6" style="color:#0f2d40;">
          <p class="motto"> Turn your idea into a<br>working site or app at a<br><strong>low cost</strong> and <strong>quick turnaround</strong>.</p>
          <h2 class="hoff2">Realize Your Ideas.</h2>
          <div class="btn btn-green hoff1" id="request">Request a Beta Invite</div>
          <script type="in/Login"></script>
        </div>
        <div class="span26 hi18 hoff7 offset1 video-pane ">
          <div class="site-trackstudent"></div>
          <div class="mobile-trackstudent"></div>
          <div id="bluebuttonihopenooneclicks" class="btn btn-blue">See What Others Have Built <img src="{{ STATIC_URL }}img/right-arrow.png"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row meta">
    <div class="hi24 hoff1 span64">
      <div class="span14 card">
        <div class="hi12 users">
        <div class="logo">
          <span class="engine1"></span>
          <span class="engine2"></span>
          <span class="engine3"></span>
        </div>
        </div>
      </div>
      <div class="span22 light-green card">
        <div class="hi12 users" style="color:#0f2d40;">
          <p class=" hoff1 hi3">
            <span class="mtxt bold">Build.</span>
          </p>
          <p class="">
            <span class="small">Use our visual editor to build your app<br>or hire a developer. Facebook, Twitter and LinkedIn integration is built in.</span>
          </p>
        </div>
      </div>
      <div class="span14 green-2 card">
        <div class="hi12 publish" style="color:#0f2d40;">
          <p class=" hoff1 hi3">
           <span class="mtxt bold">Launch.</span>
          </p>
          <p class="">
            <span class="small">Make your site or app public and get users immediately.</span>
          </p>
        </div>
      </div>
      <div class="span14 green-3 card">
        <div class="hi12 metrics" style="color:#0f2d40;">
          <p class=" hoff1 hi3">
            <span class="mtxt bold">Watch.</span>
          </p>
          <p class="">
            <span class="small">Monitor your user traction and watch key metrics.</span>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
<script type="text/javascript">
var ThanksView = Backbone.ModalView.extend({
  tagName: 'div',
  className: 'thanks',
  initialize: function(text) {
    this.text = text.text;
    this.render();
  },
  render : function() {
    this.el.innerHTML = this.text;
    return this;
  }
})

IN.Event.on(IN, "auth", function(){ onLinkedInLogin(); });

  function onLinkedInLogin() {
    IN.API.Profile("me")
      .fields(["id", "firstName", "lastName", "publicProfileUrl", "emailAddress", "headline"])
      .result(login_callback)
      .error(function(err) {
        alert(err);
      });
  }
  function login_callback(result) {
    var realresult = result.values[0];
      $.post('/connect_with/', realresult, function(data){
        new ThanksView({ text: "Thanks for expressing interest, "+realresult.firstName+", we will reach out to you soon."});
      });
  }

$('.IN-widget').hide();
$('#request').on('click', function() {
  $('.IN-widget').children().first().children().first().trigger('click');
})
    var $elie = $('.engine1');
    var $elie2 = $('.engine2');
    var $elie3 = $('.engine3');
    rotate(0, -1);
    rotate2(0, 1);
    rotate3(0, -1);
    function rotate(degree, direction) {
      $elie.css({ WebkitTransform: 'rotate(' + degree + 'deg)'});
      $elie.css({ '-moz-transform': 'rotate(' + degree + 'deg)'});
      setTimeout(function() { rotate(degree + direction, direction); },26);
    }
    function rotate2(degree, direction) {
      $elie2.css({ WebkitTransform: 'rotate(' + degree + 'deg)'});
      $elie2.css({ '-moz-transform': 'rotate(' + degree + 'deg)'});
      setTimeout(function(){setTimeout(function() { rotate2(degree + direction, direction); },26)}, 1);
    }
    function rotate3(degree, direction) {
      $elie3.css({ WebkitTransform: 'rotate(' + degree + 'deg)'});
      $elie3.css({ '-moz-transform': 'rotate(' + degree + 'deg)'});
      setTimeout(function(){setTimeout(function() { rotate3(degree + direction, direction); },26)}, 1);
    }
</script>
{% endblock %}
