{% extends "infra-html.html" %}

{% block css %}
    <script type="text/javascript" src="http://platform.linkedin.com/in.js">
      api_key: t0q97cjtk5kf
      scope: r_basicprofile r_emailaddress
    </script>
    <script type="text/javascript" src="//use.typekit.net/kqa1all.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/website.css">
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/home.css">
{% endblock %}

{% block topbar %}
<div class="row">
  <div class="offset2 toppanel hi3 span6">
  <h1 class="name hoff1"><a href="{% url v1factory.views.app_list %}">Heap Engine</a> {{ title }}</h1>
  </div>
  <div class="offset4 toppanel hi3 span19">
    <div class="login pane inset hi2 hoff1 pad1" style="height:45px; margin-top: 22px;">
      <span class="span6 pad1"><strong>User Login</strong><i class="small"> (forgot password?)</span>
      <span class="login span11 offset1">
      {% if user.is_authenticated %}
        <a href="{% url v1factory.views.app_list %}">Logged In</a>
      {% else %}
        {% include "registration/login.html" %}
      {% endif %}</span>
    </div>
  </div>
</div>
{% endblock %}
{% block page %}
<div class="container">
  <div class="row">
    <div class="span29 offset2 parent-span">
      <div class="pane hi11"  style="background-color:#4575c4;">
        <div class="logo offsetr2 hoff1">
          <span class="engine1"></span>
          <span class="engine2"></span>
        </div>
        <h2 class="offset1 hoff1">Bring your ideas<br>into reality.</h2>
        <p class="offset1 span16">Start your online business quickly, without hiring a developer or coding. Connect with us to find out more. </p>
      </div>
    </div>
  </div>
  <div class="row meta hi6 hoff1">
    <div class="span9 offset2 parent-span">
      <div class="pane hi6" style="background-color:#4575c4;">
       <p class="offset1 hoff1">
        <span class="mtxt bold">Free</span>
       </p>
      </div>
    </div>
    <div class="span9 offset1 parent-span">
      <div class="pane hi6" style="background-color:#244fa1;">
      <p class="offset1 hoff1">
        <span class="mtxt bold">Developer</span>
       </p>
      </div>
    </div>
    <div class="span9 offset1 parent-span">
      <div class="pane hi6" style="background-color:#1e3d72;">
        <p class="offset1 hoff1">
          <span class="mtxt bold">Business</span>
        </p>
      </div>
    </div>
  </div>

  <div class="row meta hi6 hoff1">
    <div class="span18 offset2">
      <div class="login pane inset hi6">
      <h3 class="offset1 span17 hoff1">Connect</h3>
      <p class="offset1 hoff">Sign in with LinkedIn and we'll be right with you.</p>
      <script type="IN/Login">
      </script>
      </div>
    </div>
    <div class="span9 offset1 parent-span">
      <div class="login pane inset hi6">
      {% if user.is_authenticated %}
        <a href="{% url v1factory.views.app_list %}">Logged In</a>
      {% else %}
        {% include "registration/login.html" %}
      {% endif %}</div>
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
    <script type="text/javascript">
      IN.Event.on(IN, "auth", function(){ onLinkedInLogin(); });
      function onLinkedInLogin() {
        IN.API.Profile("me")
          .fields(["id", "firstName", "lastName", "publicProfileUrl", "emailAddress", "headline"])
          .result(login_callback)
          .error(function(err) {
            alert(err);
          });
      }
      function login_callback(result) {
        var realresult = result.values[0];
        $.post('/connect_with/', realresult, function(data){
          alert("Thanks for expressing interest, "+realresult.firstName+", we will reach out to you soon.");
        });
      }
    </script>
    <script type="text/javascript">
    var $elie = $('.engine1');
    var $elie2 = $('.engine2');
    rotate(0, 1);
    rotate2(0, -1);
    function rotate(degree, direction) {
      $elie.css({ WebkitTransform: 'rotate(' + degree + 'deg)'});
      $elie.css({ '-moz-transform': 'rotate(' + degree + 'deg)'});
      setTimeout(function() { rotate(degree + direction, direction); },26);
    }
    function rotate2(degree, direction) {
      $elie2.css({ WebkitTransform: 'rotate(' + degree + 'deg)'});
      $elie2.css({ '-moz-transform': 'rotate(' + degree + 'deg)'});
      setTimeout(function(){setTimeout(function() { rotate2(degree + direction, direction); },26)}, 1);
    }
    </script>
{% endblock %}
