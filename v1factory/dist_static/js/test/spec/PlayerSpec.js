describe("Player",function(){var e,t;beforeEach(function(){e=new Player,t=new Song}),it("should be able to play a Song",function(){e.play(t),expect(e.currentlyPlayingSong).toEqual(t),expect(e).toBePlaying(t)}),describe("when song has been paused",function(){beforeEach(function(){e.play(t),e.pause()}),it("should indicate that the song is currently paused",function(){expect(e.isPlaying).toBeFalsy(),expect(e).not.toBePlaying(t)}),it("should be possible to resume",function(){e.resume(),expect(e.isPlaying).toBeTruthy(),expect(e.currentlyPlayingSong).toEqual(t)})}),it("tells the current song if the user has made it a favorite",function(){spyOn(t,"persistFavoriteStatus"),e.play(t),e.makeFavorite(),expect(t.persistFavoriteStatus).toHaveBeenCalledWith(!0)}),describe("#resume",function(){it("should throw an exception if song is already playing",function(){e.play(t),expect(function(){e.resume()}).toThrow("song is already playing")})})});