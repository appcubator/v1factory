define(["backbone"],function(){var e=Backbone.View.extend({el:$("#navbar"),entity:null,type:null,events:{"click #hide-toggle":"hideToggle","click .add-link":"clickedAddLink","change #page-link-list":"pageSelected","click #brand-name":"clickedBrandName","submit #brand-name-form":"submittedBrandName"},initialize:function(e){_.bindAll(this,"render","renderItems","hideToggle","hideChanged","pageSelected","clickedBrandName","clickedAddLink","submittedBrandName"),this.model=e,this.model.bind("change:isHidden",this.hideChanged),this.render()},render:function(){var e=this;this.model.get("brandName")&&this.$el.find("#brand-name").html(this.model.get("brandName")),this.renderItems(),this.hideChanged(),_(appState.pages).each(function(t){e.$el.find("#page-link-list").append('<option value="{{'+t.name+'}}">'+t.name+"</option>")})},renderItems:function(){var e=this;e.$el.find("#items").html(""),_(e.model.get("items")).each(function(t){var n=t.name.replace("{{","").replace("}}","");e.$el.find("#items").append('<li><a href="#">'+n+"</a></li>")})},hideToggle:function(e){this.model.set("isHidden",!this.model.get("isHidden"))},hideChanged:function(){this.model.get("isHidden")?this.$el.addClass("hidden"):this.$el.removeClass("hidden")},clickedAddLink:function(){$(".add-link").hide(),$(".add-link-form").fadeIn()},pageSelected:function(e){var t=this.model.get("items"),n={name:e.target.value};t[t.length]=n,this.model.set("items",t),this.renderItems(),iui.get("page-link-list").options[0].selected=!0,$(".add-link-form").hide(),$(".add-link").fadeIn()},clickedBrandName:function(e){this.$el.find("#brand-name").hide(),this.$el.find("#brand-name-form").fadeIn(),this.$el.find("#brand-name-input").focus(),this.$el.find("#brand-name-input").val(this.model.get("brandName"))},submittedBrandName:function(){var e=this.$el.find("#brand-name-input").val();this.$el.find("#brand-name").html(e),this.model.set("brandName",e),this.$el.find("#brand-name").fadeIn(),this.$el.find("#brand-name-form").hide(),this.$el.find("#brand-name-input").val("")}});return e});