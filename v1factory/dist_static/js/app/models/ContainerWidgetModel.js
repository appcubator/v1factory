define(["app/models/WidgetModel","app/models/ContentModel","app/models/LayoutModel","app/models/ContainerInfoModel","editor/TableQueryView","editor/ListEditorView","app/models/QueryModel","app/models/RowModel","app/collections/WidgetCollection","dicts/constant-containers"],function(e,t,n,r,i,s,o,u,a){var f=e.extend({selected:!1,defaults:{container_info:null,deletable:!0},initialize:function(e){f.__super__.initialize.call(this,e);var t=this;this.set("container_info",new r(this.get("container_info")));if(this.get("container_info").get("uielements").length||this.get("container_info").has("query"))return;this.get("container_info").has("form")||(constantContainers[this.get("container_info").get("action")]?(this.get("container_info").set("uielements",new a),_(constantContainers[this.get("container_info").get("action")]).each(function(e){elementDefault=uieState[e.type][0],e=_.extend(elementDefault,e),t.get("container_info").get("uielements").push(e)})):(this.containerHandler[this.get("container_info").get("action")].call(this),this.get("container_info").get("action")=="table"))},toJSON:function(){var e=_.clone(this.attributes);return e=_.omit(e,"selected","deletable"),e.content_attribs=this.get("content_attribs").toJSON()||{},e.content=this.get("content")||"",e.layout=this.get("layout").toJSON(),e.container_info&&(e.container_info=this.get("container_info").toJSON()),this.has("container_info")&&(e.container_info=this.get("container_info").toJSON()),e},containerHandler:{show:function(){var e=this,t=!1;if(!e.get("container_info").has("query")){var n=new o({},this.get("container_info").get("entity")),r=new u({});e.get("container_info").set("query",n),e.get("container_info").set("row",r),new s(e,n,r)}},login:function(){var t=this;t.get("container_info").set("uielements",new a);var n=iui.unite({x:1,y:1},{x:t.get("layout").get("width")+1,y:1}),r="text-input",i=uieState[r][0];i.type=r,i.content_attribs.placeholder="Username...",i.layout={top:n.topLeft.y,left:n.topLeft.x,width:n.bottomRight.x-n.topLeft.x-1,height:4};var s=new e(i);t.get("container_info").get("uielements").push(s);var n=iui.unite({x:1,y:5},{x:t.get("layout").get("width")+1,y:5}),r="password",i=uieState.password[0];i.type=r,i.content_attribs.placeholder="Password...",i.layout={top:n.topLeft.y,left:n.topLeft.x,width:n.bottomRight.x-n.topLeft.x-1,height:4},i.content_attribs.value="Add "+t.get("container_info").entity;var s=new e(i);t.get("container_info").get("uielements").push(s)},"table-gal":function(){var e=this,t=!1;if(!e.get("container_info").has("query")){var n=new o({},this.get("container_info").get("entity"));e.get("container_info").set("query",n),new i(e,n)}}}});return f});