define(["app/collections/WidgetCollection","app/models/QueryModel","app/models/EntityModel","app/models/UserEntityModel","app/models/FormModel","app/models/RowModel"],function(e,t,n,r,i,s){var o=Backbone.Model.extend({initialize:function(n){this.set("uielements",new e(n.uielements)),n.entity&&(n.entity.attributes?this.set("entity",n.entity):n.entity=="User"?this.set("entity",g_userModel):this.set("entity",g_entityCollection.getEntityWithName(n.entity))),n.row&&this.set("row",new s(n.row)),n.query&&this.set("query",new t(n.query,this.get("entity")))},toJSON:function(){var e=_.clone(this.attributes);return e.uielements=this.get("uielements").toJSON(),e.query&&(e.query=this.get("query").toJSON()),this.has("entity")&&typeof e.entity!="string"&&(e.entity=e.entity.get("name")),this.has("row")&&(e.row=this.get("row").toJSON()),e}});return o});