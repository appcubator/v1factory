define(["app/models/WidgetModel","backbone"],function(e,t){var n=t.Collection.extend({model:e,selectedEl:null,initialize:function(){_.bindAll(this,"selectWidgetById","select","unselectAll"),this.bind("change:selected",this.selectedChanged)},unselectAll:function(){_.each(this.models,function(e){e.set("selected",!1)}),this.selectedEl=null},selectWidgetById:function(e){this.collection.get(e).select(),this.selectedEl=this.get(e)},selectedChanged:function(e){},select:function(e){this.unselectAll(),this.selectedEl=e,e.set("selected",!0),this.trigger("selected")},removeSelected:function(e){this.editMode!==!0&&(this.remove(this.selectedEl),this.selectedEl=null,e.preventDefault())}});return n});