define(["jquery-ui"],function(){function t(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function n(e){var t=null;if(document.cookie&&document.cookie!=""){var n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=jQuery.trim(n[r]);if(i.substring(0,e.length+1)==e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}}return t}var e={openFilePick:function(e,t,n){filepicker.setKey("AAO81GwtTTec7D8nH9SaTz"),filepicker.pickMultiple({mimetypes:["image/*"],container:"modal",services:["COMPUTER","GMAIL","DROPBOX","INSTAGRAM","IMAGE_SEARCH","URL"]},function(r){for(var i=0;i<r.length;i++){var s=r[i];$.post("/app/"+n+"/static/",{name:s.filename,url:s.url,type:s.mimetype,error:function(e){}})}e(r,t)},function(e){console.log(e.toString())})},openThemeFilePick:function(e,t,n){filepicker.setKey("AAO81GwtTTec7D8nH9SaTz"),filepicker.pickMultiple({mimetypes:["image/*"],container:"modal",services:["COMPUTER","GMAIL","DROPBOX","INSTAGRAM","IMAGE_SEARCH","URL"]},function(r){for(var i=0;i<r.length;i++){var s=r[i];$.post("/theme/"+n+"/static/",{name:s.filename,url:s.url,type:s.mimetype,error:function(e){}})}e(r,t)},function(e){console.log(e.toString())})},assert:function(e){e||(console.trace(),alert("Important Error!"))},unite:function(e,t){var n={},r={};return e.x<t.x?(n.x=e.x,r.x=t.x):(n.x=t.x,r.x=e.x),e.y<t.y?(n.y=e.y,r.y=t.y):(n.y=t.y,r.y=e.y),n.x--,n.y--,{topLeft:n,bottomRight:r}},resizableAndDraggable:function(e,t){return $(e).resizable({handles:"n, e, s, w, se",resize:t.resized,containment:"parent"}),$(e).draggable({drag:t.moved,containment:"parent"}),e},draggable:function(e){$(e).draggable({grid:[30,30],drag:self.moved})},resizableVertical:function(e,t){return $(e).resizable({handles:"s",stop:t.resized,resize:t.resizing,containment:"parent"}),e},resizable:function(e,t){return $(e).resizable({handles:"n, e, s, w, se",stop:t.resized,resize:t.resizing,containment:"parent"}),e},setCursor:function(e,t){console.log(e);var e=typeof e=="string"||e instanceof String?document.getElementById(e):e;if(!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd(t),n.moveStart(t),n.select(),console.log("he"),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},get:function(e){return document.getElementById(e)},getHTML:function(e){return document.getElementById(e)?document.getElementById(e).innerHTML||null:null},askBeforeLeave:function(e){window.onbeforeunload=function(){return"You have some unsave changes."}},dontAskBeforeLeave:function(){window.onbeforeunload=null},startAjaxLoading:function(){if(!document.getElementById("ajax-loader")){var e=document.createElement("div");e.id="ajax-loader",document.body.appendChild(e)}},stopAjaxLoading:function(){if(document.getElementById("ajax-loader")){var e=document.getElementById("ajax-loader");e.parentNode.removeChild(e)}}};$(function(){$.ajaxSetup({crossDomain:!1,beforeSend:function(e,r){if(!t(r.type)){var i=n("csrftoken");e.setRequestHeader("X-CSRFToken",i)}}})}),window.iui=e,typeof window.define=="function"&&window.define.amd&&window.define("iui",[],function(){return window.iui})});